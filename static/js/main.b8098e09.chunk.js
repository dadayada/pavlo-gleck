(this.webpackJsonppeople=this.webpackJsonppeople||[]).push([[0],{73:function(e,t,n){e.exports=n(85)},84:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(40),o=n.n(c),l=n(33),u=n(24),i=n(62),d=n(26),m=n(100),b=n(86),f=n(9),s=n(31),O=n(11),j=n(8),v=n(106),p=n(101),E=n(87),g=n(95),h=n(96),y=n(98),k=n(2),w=Object(k.d)(),C=Object(k.j)(w.map((function(e){return e.target.value})),""),z=Object(k.d)(),I=Object(k.d)();function N(){var e=Object(j.b)(),t=Object(s.a)(e,2),n=t[0],a=t[1],c=Object(O.d)(C);return r.a.createElement("section",{className:n({position:"sticky",top:a.sizing.scale300,display:"flex"})},r.a.createElement(g.a,{placeholder:"Search person",value:c,onChange:w,startEnhancer:r.a.createElement(h.a,{size:a.sizing.scale800})}),r.a.createElement(v.a,{content:function(e){var t=e.close;return r.a.createElement(p.a,{items:[{label:"Add person"},{label:"Add category"}],onItemSelect:function(e){var n=e.item;t(),function(e){"Add category"===e.label?I():"Add person"===e.label&&z()}(n)}})}},r.a.createElement(E.a,null,r.a.createElement(y.a,{size:"scale800"}))))}var A=n(102),F=n(56),S=n(43),$=n(46),x=n.n($),B=x()("people/$people"),J=x()("people/$categories"),L=x()("people/$peopleInfo"),W=Object(k.e)(B.init([])),D=Object(k.e)(J.init([])),M=Object(k.e)(L.init({}));W.watch(B),D.watch(J),M.watch(L);var q=Object(k.b)(C,W,(function(e,t){return t.filter((function(t){return t.fullName.toLowerCase().includes(e.toLowerCase())}))})),G=Object(k.d)(),H=Object(k.d)(),K=Object(k.d)(),P=Object(k.d)(),Q=Object(k.d)(),R=Object(k.d)(),T=Object(k.d)(),U=Object(k.d)(),V=Object(k.e)(null),X=Object(k.d)(),Y=Object(k.e)(null).on(X,(function(e,t){return t.id}));Object(k.f)({from:X.map((function(){return"remove-person"})),to:R});var Z=Object(k.g)({source:Object(k.k)({clock:T,source:Object(k.b)(Y,V,(function(e,t){return{id:e,owner:t}}))}),filter:function(e){return"remove-person"===e.owner},target:H.prepend((function(e){return{id:e.id}}))});function _(){return r.a.createElement("section",null,Object(O.c)(q,(function(e){var t=e.fullName,n=e.id;return r.a.createElement(A.a,null,r.a.createElement(l.b,{to:"/person-info/".concat(n)},r.a.createElement(S.b,null,t)),r.a.createElement(E.a,{kind:"tertiary",onClick:function(){return X({id:n})}},r.a.createElement(F.a,{size:"scale800"})))})))}Object(k.f)({from:Z.map((function(){return null})),to:V});var ee=n(105),te=n(19),ne=n(32),ae=n(99),re=n(104),ce=Object(k.d)(),oe=Object(k.d)(),le=Object(k.d)(),ue=Object(k.d)(),ie=Object(k.d)(),de=Object(k.e)(!1).on([I,z],(function(){return!0})).on(ce,(function(){return!1})).reset([oe,le]),me=Object(k.e)("").on(ue,(function(e,t){return t})),be=Object(k.e)("").on(ie,(function(e,t){return t})),fe=Object(k.e)(null).on(I,(function(){return"category"})).on(z,(function(){return"person"}));function se(){var e=Object(O.d)(de),t=Object(O.d)(me),n=Object(O.d)(be),a=Object(O.d)(fe);return r.a.createElement(ee.a,{isOpen:e,onClose:ce,animate:!0,autoFocus:!0,size:te.c.default,role:te.b.dialog},r.a.createElement(ne.g,null,"category"===a?"New category":"New person"),r.a.createElement(ne.e,null,r.a.createElement(re.a,{label:"category"===a?"Category name":"Full name"},r.a.createElement(g.a,{id:"category"===a?"category-name":"full-name",value:"category"===a?n:t,onChange:function(e){return"category"===a?ie(e.target.value):ue(e.target.value)}}))),r.a.createElement(ne.f,null,r.a.createElement(ae.a,{onClick:"category"===a?le:oe},"Add")))}Object(k.k)({clock:oe,source:me,fn:function(e){return{fullName:e,id:Math.random()}},target:G}),Object(k.k)({clock:le,source:be,fn:function(e){return{name:e,id:Date.now()}},target:K}),me.reset([ce,G]),be.reset([ce,K]);var Oe=n(103),je=Object(k.d)(),ve=Object(O.a)("person-info"),pe=Object(k.b)(ve.state,W,(function(e,t){var n,a=e.id;return null===(n=t.find((function(e){return String(e.id)===String(a)})))||void 0===n?void 0:n.fullName})),Ee=Object(k.b)(M,D,ve.state,(function(e,t,n){var a=n.id;if(!a)return[];var r=e[a];return t.map((function(e){return{id:e.id,name:e.name,value:r[e.id]||null}}))}));function ge(){var e=Object(u.f)().id;Object(O.b)(ve,{id:e});var t=Object(O.d)(pe);return r.a.createElement(f.a,{margin:"scale500"},r.a.createElement(S.a,{justifyContent:"center"},t),Object(O.c)(Ee,(function(e){var t=e.id,n=e.name,a=e.value;return r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{label:n},r.a.createElement(Oe.a,{id:n,value:a,onChange:function(e){return je({id:t,value:e.target.value})}})))})))}Object(k.k)({source:ve.state,clock:je,fn:function(e,t){var n=t.id,a=t.value;return{personId:e.id,info:{categoryId:n,value:a}}},target:P});var he=Object(k.e)(!1).on(R,(function(){return!0})).reset([U,T,Q]);function ye(){var e=Object(O.d)(he);return r.a.createElement(ee.a,{isOpen:e,onClose:Q,animate:!0,autoFocus:!0,size:te.c.default,role:te.b.dialog},r.a.createElement(ne.g,null,"Confirm?"),r.a.createElement(ne.f,null,r.a.createElement(ae.a,{kind:"tertiary",onClick:U},"Cancel"),r.a.createElement(ae.a,{onClick:T},"Okay")))}V.on(R,(function(e,t){return t})).reset([U,Q]),V.watch(console.log);var ke=new i.a;function we(){return r.a.createElement(d.a,{value:ke},r.a.createElement(m.a,{theme:b.a},r.a.createElement(l.a,null,r.a.createElement(f.a,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/",exact:!0},r.a.createElement(f.a,{margin:"scale500"},r.a.createElement(N,null)),r.a.createElement(_,null)),r.a.createElement(u.a,{path:"/person-info/:id"},r.a.createElement(ge,null))),r.a.createElement(se,null),r.a.createElement(ye,null)))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ce=n(23),ze=n(39),Ie=n(21);W.on(G,(function(e,t){return[].concat(Object(Ie.a)(e),[t])})).on(H,(function(e,t){var n=t.id;return e.filter((function(e){return e.id!==n}))})),D.on(K,(function(e,t){return[].concat(Object(Ie.a)(e),[t])})),M.on(P,(function(e,t){var n=t.personId,a=t.info;return Object(ze.a)({},e,Object(Ce.a)({},n,Object(ze.a)({},e[n],Object(Ce.a)({},a.categoryId,a.value))))})).on(G,(function(e,t){var n=t.id;return Object(ze.a)({},e,Object(Ce.a)({},n,{}))})).on(H,(function(e,t){var n=t.id,a=Object(ze.a)({},e);return delete a[n],a}));n(84);o.a.render(r.a.createElement(we,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[73,1,2]]]);
//# sourceMappingURL=main.b8098e09.chunk.js.map