{"version":3,"sources":["header/state.js","header/index.js","header/view.js","core/state.js","people-list/state.js","core/index.js","confirm-modal/index.js","confirm-modal/state.js","people-list/init.js","people-list/view.js","add-modal/init.js","add-modal/view.js","person-info/init.js","person-info/view.js","confirm-modal/init.js","confirm-modal/view.js","edit-categories/view.js","app/app.js","serviceWorker.js","core/init.js","index.js"],"names":["searchValueChanged","createEvent","$searchValue","restore","map","p","target","value","addPersonClicked","addCategoryClicked","Header","useStyletron","css","theme","searchValue","useStore","history","useHistory","className","position","top","sizing","scale300","display","placeholder","onChange","startEnhancer","size","scale800","content","close","items","label","onItemSelect","item","push","peopleLocalStorage","connectLocalStorage","categoriesLocalStorage","peopleInfoLocalStorage","$people","createStore","init","$categories","$peopleInfo","watch","$peopleList","combine","people","filter","el","fullName","toLowerCase","includes","personAdded","personRemoved","categoryAdded","categoryNameChanged","categoriesReordered","personNameChanged","personInfoEdited","confirmModalClosed","confirmModalOpened","confirmModalClickedYes","confirmModalClickedCancel","$confirmModalOwner","removePersonClicked","$personIdToRemove","on","_","id","forward","from","to","sampledPersonRemoved","guard","source","sample","clock","owner","prepend","PeopleList","useList","kind","onClick","modalClose","newPersonDataPushed","newCategoryDataPushed","fullNameChanged","$modalOpen","reset","$fullName","$categoryName","$modalType","AddModal","modalOpen","categoryName","modalType","isOpen","onClose","animate","autoFocus","SIZE","default","role","ROLE","dialog","e","fn","Date","now","name","personInfoGate","createGate","categoryEdited","state","find","String","$personInfo","peopleInfo","categories","personNonEmptyInfo","category","PersonInfo","useParams","useGate","margin","pageParams","event","Number","personId","info","categoryId","$confirmModalOpen","ConfirmModal","console","log","EditCategories","list","index","draggableId","key","provided","snapshot","ref","innerRef","draggableProps","dragHandleProps","style","border","isDragging","onDragEnd","result","dest","destination","droppableId","droppableProps","engine","Styletron","App","LightTheme","path","exact","Boolean","window","location","hostname","match","s","listCopy","splice","removed","newState","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.4af9db57.chunk.js","sourcesContent":["import { createEvent, restore } from 'effector';\n\nconst searchValueChanged = createEvent();\n\nconst $searchValue = restore(searchValueChanged.map(p => p.target.value), '');\n\nexport {\n  $searchValue,\n  searchValueChanged\n}","import { createEvent } from 'effector';\n\nexport const addPersonClicked = createEvent();\nexport const addCategoryClicked = createEvent();\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useStore } from 'effector-react';\nimport { useStyletron } from 'baseui';\nimport { StatefulPopover } from 'baseui/popover';\nimport { StatefulMenu } from 'baseui/menu';\nimport { Button } from 'baseui/button';\nimport { Input } from 'baseui/input';\nimport { Search, Menu } from 'baseui/icon';\nimport { $searchValue, searchValueChanged } from './state';\nimport { addCategoryClicked, addPersonClicked } from '.';\n\nconst ADD_PERSON_LABEL = 'Add person';\nconst ADD_CATEGORY_LABEL = 'Add category';\nconst CATEGORIES_LIST_LABEL = 'Edit categories';\n\nconst onItemSelect = (item, history) => {\n  switch (item.label) {\n    case ADD_CATEGORY_LABEL: {\n      addCategoryClicked();\n      break;\n    }\n    case ADD_PERSON_LABEL: {\n      addPersonClicked();\n      break;\n    }\n    case CATEGORIES_LIST_LABEL: {\n      history.push('/pavlo-gleck/edit-categories');\n      break;\n    }\n    default:\n  }\n};\n\nexport function Header() {\n  const [css, theme] = useStyletron();\n  const searchValue = useStore($searchValue);\n  const history = useHistory();\n\n  return (\n    <section\n      className={css({\n        position: 'sticky',\n        top: theme.sizing.scale300,\n        display: 'flex',\n      })}\n    >\n      <Input\n        placeholder='Search person'\n        value={searchValue}\n        onChange={searchValueChanged}\n        startEnhancer={<Search size={theme.sizing.scale800} />}\n      />\n      <StatefulPopover\n        content={({ close }) => (\n          <StatefulMenu\n            items={[\n              { label: ADD_PERSON_LABEL },\n              { label: ADD_CATEGORY_LABEL },\n              { label: CATEGORIES_LIST_LABEL },\n            ]}\n            onItemSelect={({ item }) => {\n              close();\n              onItemSelect(item, history);\n            }}\n          />\n        )}\n      >\n        <Button>\n          <Menu size='scale800' />\n        </Button>\n      </StatefulPopover>\n    </section>\n  );\n}\n","import { createStore } from 'effector';\nimport connectLocalStorage from \"effector-localstorage\";\n\nconst peopleLocalStorage = connectLocalStorage('people/$people');\nconst categoriesLocalStorage = connectLocalStorage('people/$categories');\nconst peopleInfoLocalStorage = connectLocalStorage('people/$peopleInfo');\n\nconst $people = createStore(peopleLocalStorage.init([]));\nconst $categories = createStore(categoriesLocalStorage.init([]));\nconst $peopleInfo = createStore(peopleInfoLocalStorage.init({})); // { [personId]: { [categoryId]: value } } \n\n$people.watch(peopleLocalStorage);\n$categories.watch(categoriesLocalStorage);\n$peopleInfo.watch(peopleInfoLocalStorage);\n\nexport { $people, $categories, $peopleInfo };\n","import { combine } from 'effector';\nimport { $people } from '../core/state';\nimport { $searchValue } from '../header/state';\n\nconst $peopleList = combine($searchValue, $people, (searchValue, people) =>\n  people.filter(el =>\n    el.fullName.toLowerCase().includes(searchValue.toLowerCase())\n  )\n);\n\nexport { $peopleList };\n","import { createEvent } from 'effector';\n\nexport const personAdded = createEvent();\nexport const personRemoved = createEvent();\n\nexport const categoryAdded = createEvent();\nexport const categoryNameChanged = createEvent();\nexport const categoriesReordered = createEvent();\n\nexport const personNameChanged = createEvent();\nexport const personInfoEdited = createEvent(); // payload: { personId, info: { categoryId: value } }\n","import { createEvent } from 'effector';\n\nexport const confirmModalClosed = createEvent();\nexport const confirmModalOpened = createEvent();\nexport const confirmModalClickedYes = createEvent();\nexport const confirmModalClickedCancel = createEvent();\n","import { createStore } from \"effector\";\n\nexport const $confirmModalOwner = createStore(null);","import {\n  createEvent,\n  createStore,\n  sample,\n  forward,\n  combine,\n  guard,\n} from 'effector';\nimport { personRemoved } from '../core';\nimport { confirmModalOpened, confirmModalClickedYes } from '../confirm-modal';\nimport { $confirmModalOwner } from '../confirm-modal/state';\n\nexport const removePersonClicked = createEvent();\n\nconst $personIdToRemove = createStore(null).on(\n  removePersonClicked,\n  (_, { id }) => id\n);\n\nforward({\n  from: removePersonClicked.map(() => 'remove-person'),\n  to: confirmModalOpened,\n});\n\nconst sampledPersonRemoved = guard({\n  source: sample({\n    clock: confirmModalClickedYes,\n    source: combine($personIdToRemove, $confirmModalOwner, (id, owner) => ({\n      id,\n      owner,\n    })),\n  }),\n  filter: ({ owner }) => owner === 'remove-person',\n  target: personRemoved.prepend(p => ({ id: p.id })),\n});\n\nforward({ from: sampledPersonRemoved.map(() => null), to: $confirmModalOwner });\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { ListItem } from 'baseui/list';\nimport { Button } from 'baseui/button';\nimport { DeleteAlt } from 'baseui/icon';\nimport { LabelMedium } from 'baseui/typography';\nimport { useList } from 'effector-react';\nimport { $peopleList } from './state';\nimport { removePersonClicked } from './init';\n\nexport function PeopleList() {\n  return (\n    <section>\n      {useList($peopleList, ({ fullName, id }) => (\n        <ListItem>\n          <Link to={`/pavlo-gleck/person-info/${id}`}>\n            <LabelMedium>{fullName}</LabelMedium>\n          </Link>\n          <Button kind='tertiary' onClick={() => removePersonClicked({ id })}>\n            <DeleteAlt size='scale800' />\n          </Button>\n        </ListItem>\n      ))}\n    </section>\n  );\n}\n","import { createStore, createEvent, sample } from 'effector';\nimport { personAdded, categoryAdded } from '../core';\nimport { addCategoryClicked, addPersonClicked } from '../header';\n\nexport const modalClose = createEvent();\nexport const newPersonDataPushed = createEvent();\nexport const newCategoryDataPushed = createEvent();\nexport const fullNameChanged = createEvent();\nexport const categoryNameChanged = createEvent();\n\nexport const $modalOpen = createStore(false)\n  .on([addCategoryClicked, addPersonClicked], () => true)\n  .on(modalClose, () => false)\n  .reset([newPersonDataPushed, newCategoryDataPushed]);\n\nexport const $fullName = createStore('').on(fullNameChanged, (_, p) => p);\nexport const $categoryName = createStore('').on(\n  categoryNameChanged,\n  (_, p) => p\n);\n\nexport const $modalType = createStore(null)\n  .on(addCategoryClicked, () => 'category')\n  .on(addPersonClicked, () => 'person');\n\nsample({\n  clock: newPersonDataPushed,\n  source: $fullName,\n  fn: source => ({ fullName: source, id: Date.now() }),\n  target: personAdded,\n});\n\nsample({\n  clock: newCategoryDataPushed,\n  source: $categoryName,\n  fn: source => ({ name: source, id: Date.now() }),\n  target: categoryAdded,\n});\n\n$fullName.reset([modalClose, personAdded]);\n$categoryName.reset([modalClose, categoryAdded])","import React from 'react';\nimport { useStore } from 'effector-react';\nimport {\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  ModalButton,\n  SIZE,\n  ROLE,\n} from 'baseui/modal';\nimport { FormControl } from 'baseui/form-control';\nimport { Input } from 'baseui/input';\nimport {\n  $modalOpen,\n  modalClose,\n  $fullName,\n  fullNameChanged,\n  newPersonDataPushed,\n  newCategoryDataPushed,\n  $modalType,\n  $categoryName,\n  categoryNameChanged,\n} from './init';\n\nexport function AddModal() {\n  const modalOpen = useStore($modalOpen);\n  const fullName = useStore($fullName);\n  const categoryName = useStore($categoryName);\n  const modalType = useStore($modalType);\n  return (\n    <Modal\n      isOpen={modalOpen}\n      onClose={modalClose}\n      animate\n      autoFocus\n      size={SIZE.default}\n      role={ROLE.dialog}\n    >\n      <ModalHeader>\n        {modalType === 'category' ? 'New category' : 'New person'}\n      </ModalHeader>\n      <ModalBody>\n        <FormControl\n          label={modalType === 'category' ? 'Category name' : 'Full name'}\n        >\n          <Input\n            id={modalType === 'category' ? 'category-name' : 'full-name'}\n            value={modalType === 'category' ? categoryName : fullName}\n            onChange={e =>\n              modalType === 'category'\n                ? categoryNameChanged(e.target.value)\n                : fullNameChanged(e.target.value)\n            }\n          />\n        </FormControl>\n      </ModalBody>\n      <ModalFooter>\n        <ModalButton\n          onClick={\n            modalType === 'category'\n              ? newCategoryDataPushed\n              : newPersonDataPushed\n          }\n        >\n          Add\n        </ModalButton>\n      </ModalFooter>\n    </Modal>\n  );\n}\n","import { createGate } from 'effector-react';\nimport { combine, sample, createEvent } from 'effector';\nimport { $categories, $peopleInfo, $people } from '../core/state';\nimport { personInfoEdited, personNameChanged } from '../core';\n\nexport const personInfoGate = createGate('person-info');\nexport const categoryEdited = createEvent();\nexport const fullNameChanged = createEvent();\n\nexport const $fullName = combine(\n  personInfoGate.state,\n  $people,\n  ({ id }, people) => people.find(el => String(el.id) === String(id))?.fullName\n);\n\nexport const $personInfo = combine(\n  $peopleInfo,\n  $categories,\n  personInfoGate.state,\n  (peopleInfo, categories, { id }) => {\n    if (!id) {\n      return [];\n    }\n    const personNonEmptyInfo = peopleInfo[id];\n    return categories.map(category => ({\n      id: category.id,\n      name: category.name,\n      value: personNonEmptyInfo[category.id] || null,\n    }));\n  }\n);\n\nsample({\n  source: personInfoGate.state,\n  clock: fullNameChanged,\n  fn: (pageParams, event) => ({\n    id: Number(pageParams.id),\n    value: event.target.value,\n  }),\n  target: personNameChanged,\n});\n\nsample({\n  source: personInfoGate.state,\n  clock: categoryEdited,\n  fn: (pageParams, { id, value }) => ({\n    personId: pageParams.id,\n    info: { categoryId: id, value: value },\n  }),\n  target: personInfoEdited,\n});\n","import React from 'react';\nimport { useList, useGate, useStore } from 'effector-react';\nimport { useParams } from 'react-router-dom';\nimport { Textarea } from 'baseui/textarea';\nimport { Input } from 'baseui/input';\nimport { Block } from 'baseui/block';\nimport { FormControl } from 'baseui/form-control';\nimport {\n  $personInfo,\n  personInfoGate,\n  $fullName,\n  categoryEdited,\n  fullNameChanged,\n} from './init';\n\nexport function PersonInfo() {\n  const { id } = useParams();\n  useGate(personInfoGate, { id });\n  const fullName = useStore($fullName);\n  return (\n    <Block margin='scale500'>\n      <FormControl label='Full name'>\n        <Input id={id} value={fullName} onChange={fullNameChanged} />\n      </FormControl>\n      {useList($personInfo, ({ id, name, value }) => (\n        <>\n          <FormControl label={name}>\n            <Textarea\n              id={name}\n              value={value}\n              onChange={e => categoryEdited({ id, value: e.target.value })}\n            />\n          </FormControl>\n        </>\n      ))}\n    </Block>\n  );\n}\n","import { createStore } from 'effector';\nimport {\n  confirmModalClosed,\n  confirmModalOpened,\n  confirmModalClickedCancel,\n  confirmModalClickedYes,\n} from '.';\nimport { $confirmModalOwner } from './state';\n\nexport const $confirmModalOpen = createStore(false)\n  .on(confirmModalOpened, () => true)\n  .reset([\n    confirmModalClickedCancel,\n    confirmModalClickedYes,\n    confirmModalClosed,\n  ]);\n\n$confirmModalOwner\n  .on(confirmModalOpened, (_, p) => p)\n  .reset([confirmModalClickedCancel, confirmModalClosed]);\n\n  $confirmModalOwner.watch(console.log)\n","import React from 'react';\nimport { useStore } from 'effector-react';\nimport {\n  Modal,\n  ModalHeader,\n  ModalFooter,\n  ModalButton,\n  SIZE,\n  ROLE,\n} from 'baseui/modal';\nimport { $confirmModalOpen } from './init';\nimport {\n  confirmModalClosed,\n  confirmModalClickedCancel,\n  confirmModalClickedYes,\n} from '.';\n\nexport function ConfirmModal() {\n  const modalOpen = useStore($confirmModalOpen);\n  return (\n    <Modal\n      isOpen={modalOpen}\n      onClose={confirmModalClosed}\n      animate\n      autoFocus\n      size={SIZE.default}\n      role={ROLE.dialog}\n    >\n      <ModalHeader>Confirm?</ModalHeader>\n      <ModalFooter>\n        <ModalButton kind='tertiary' onClick={confirmModalClickedCancel}>\n          Cancel\n        </ModalButton>\n        <ModalButton onClick={confirmModalClickedYes}>Okay</ModalButton>\n      </ModalFooter>\n    </Modal>\n  );\n}\n","import React from 'react';\nimport { useStore } from 'effector-react';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport { ListItem } from 'baseui/list';\nimport { Input } from 'baseui/input';\nimport { Block } from 'baseui/block';\nimport { Grab } from 'baseui/icon';\nimport { HeadingSmall } from 'baseui/typography';\nimport { $categories } from '../core/state';\nimport { categoriesReordered, categoryNameChanged } from '../core';\n\nexport function EditCategories() {\n  const categories = useStore($categories);\n  const list = categories.map((item, index) => (\n    <Draggable draggableId={String(item.id)} index={index} key={item.id}>\n      {(provided, snapshot) => (\n        <div\n          ref={provided.innerRef}\n          {...provided.draggableProps}\n          {...provided.dragHandleProps}\n          style={{\n            border: `${snapshot.isDragging ? '2px solid black' : 'none'}`,\n            ...provided.draggableProps.style,\n          }}\n        >\n          <ListItem>\n            <Grab size='scale1200' />\n            <Input\n              value={item.name}\n              onChange={e =>\n                categoryNameChanged({ id: item.id, value: e.target.value })\n              }\n            />\n          </ListItem>\n        </div>\n      )}\n    </Draggable>\n  ));\n  return (\n    <DragDropContext\n      onDragEnd={result =>\n        categoriesReordered({\n          source: result.source.index,\n          dest: result.destination.index,\n        })\n      }\n    >\n      <Block margin='scale500'>\n        <HeadingSmall>Edit categories</HeadingSmall>\n      </Block>\n      <Droppable droppableId='pohuy'>\n        {provided => (\n          <div ref={provided.innerRef} {...provided.droppableProps}>\n            {list}\n            {provided.placeholder}\n          </div>\n        )}\n      </Droppable>\n    </DragDropContext>\n  );\n}\n","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport { Client as Styletron } from 'styletron-engine-atomic';\nimport { Provider as StyletronProvider } from 'styletron-react';\nimport { LightTheme, BaseProvider } from 'baseui';\nimport { Block } from 'baseui/block';\nimport { Header } from '../header/view';\nimport { PeopleList } from '../people-list/view';\nimport { AddModal } from '../add-modal/view';\nimport { PersonInfo } from '../person-info/view';\nimport { ConfirmModal } from '../confirm-modal/view';\nimport { EditCategories } from '../edit-categories/view'\n\nconst engine = new Styletron();\n\nexport function App() {\n  return (\n    <StyletronProvider value={engine}>\n      <BaseProvider theme={LightTheme}>\n        <Router>\n          <Block>\n            <Switch>\n              <Route path='/pavlo-gleck' exact>\n                <Block margin='scale500'>\n                  <Header />\n                </Block>\n                <PeopleList />\n              </Route>\n              <Route path='/pavlo-gleck/person-info/:id'>\n                <PersonInfo />\n              </Route>\n              <Route path=\"/pavlo-gleck/edit-categories\">\n                <EditCategories />\n              </Route>\n            </Switch>\n            <AddModal />\n            <ConfirmModal />\n          </Block>\n        </Router>\n      </BaseProvider>\n    </StyletronProvider>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {\n  personAdded,\n  personRemoved,\n  categoryAdded,\n  personInfoEdited,\n  categoriesReordered,\n  categoryNameChanged,\n  personNameChanged,\n} from '.';\nimport { $people, $categories, $peopleInfo } from './state';\n\n$people\n  .on(personAdded, (s, p) => [...s, p])\n  .on(personRemoved, (s, { id }) => s.filter(el => el.id !== id))\n  .on(personNameChanged, (s, { value, id }) =>\n    s.map(el => (el.id === id ? { ...el, fullName: value } : el))\n  );\n\n$categories\n  .on(categoryAdded, (s, p) => [...s, p])\n  .on(categoriesReordered, (s, { source, dest }) => {\n    const listCopy = [...s];\n    const [removed] = listCopy.splice(source, 1);\n    listCopy.splice(dest, 0, removed);\n\n    return listCopy;\n  })\n  .on(categoryNameChanged, (s, { id, value }) =>\n    s.map(el => (el.id === id ? { ...el, name: value } : el))\n  );\n\n$peopleInfo\n  .on(personInfoEdited, (s, { personId, info }) => ({\n    ...s,\n    [personId]: { ...s[personId], [info.categoryId]: info.value },\n  }))\n  .on(personAdded, (s, { id }) => ({ ...s, [id]: {} }))\n  .on(personRemoved, (s, { id }) => {\n    const newState = { ...s };\n    delete newState[id];\n    return newState;\n  });\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './app';\nimport * as serviceWorker from './serviceWorker';\nimport './init';\n\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}